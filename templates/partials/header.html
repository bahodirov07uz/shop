<div class="navbarhead">
    <div class="containerhead">
        {% if site_settings.logo %}
        <a class="navbar-brandhead" href="{% url 'asic:home' %}">
            <img src="{{ site_settings.logo.url }}" alt="{{ site_settings.site_name }}" style="max-height: 60px; max-width: 200px">
        </a>
        {% else %}
        <a class="navbar-brandhead" href="{% url 'asic:home' %}">
            <i class="fas fa-shoe-prints me-2"></i>SHOES.UZ
        </a>
        {% endif %}

        <!-- Burger button for mobile -->
        <button class="burger" aria-label="Toggle menu" aria-expanded="false" aria-controls="nav-menu">
            <span class="burger-bar"></span>
            <span class="burger-bar"></span>
            <span class="burger-bar"></span>
        </button>

        <ul class="navhead-menu" id="nav-menu">
            <li><a href="{% url 'asic:home' %}">Bosh sahifa</a></li>
            <li><a href="{% url 'asic:catalog' %}">Poyabzallar</a></li>
            <li><a href="{% url 'asic:pay_deliever' %}">To?lov va yetkazib berish</a></li>
            <li><a href="{% url 'asic:about' %}">Biz haqimizda</a></li>
            {% if pages %}
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" onclick="return false;">
                    Qo?shimcha
                </a>
                <ul class="dropdown-menu">
                    {% for page in pages %}
                    <li><a href="{% url 'asic:static_page' page.slug %}">{{ page.title }}</a></li>
                    {% empty %}
                    <li><span class="text-muted">Sahifalar yo?q</span></li>
                    {% endfor %}
                </ul>
            </li>
            {% endif %}
            {% if user.is_authenticated %}
            <li><a href="{% url 'asic:profile' %}">Profil</a></li>
            {% else %}
            <li><a href="{% url 'account_login' %}"><i class="fas fa-user me-1"></i>Kirish</a></li>
            {% endif %}
            <li><a href="{% url 'asic:cart_detail' %}"><i class="fas fa-shopping-cart me-1"></i>Savatcha</a></li>
            <style>
                /* Dropdown styles */
                .dropdown {
                    position: relative;
                }

                .dropdown-toggle {
                    cursor: pointer;
                    display: flex;
                    align-items: center;
                }

                .dropdown-menu {
                    display: none;
                    position: absolute;
                    top: 100%;
                    left: 0;
                    background-color: #fff;
                    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
                    border-radius: 5px;
                    list-style: none;
                    padding: 10px 0;
                    min-width: 200px;
                    z-index: 1000;
                }

                .dropdown-menu li {
                    padding: 5px 20px;
                }

                .dropdown-menu li a {
                    color: #212529;
                    text-decoration: none;
                }

                .dropdown-menu li a:hover {
                    color: #28a745;
                }

                .dropdown:hover .dropdown-menu {
                    display: block;
                }
            </style>
        </ul>
    </div>
</div>

<style>
    .navbarhead {
        background-color: #fff;
        border-bottom: 1px solid #ddd;
        padding: 10px 0;
        font-weight: 500 !important;
        font-size: 16px !important;
        font-style: normal !important;
        font-family: 'Manrope', sans-serif !important;
    }

    .navbarhead i,
    .navbarhead .fa,
    .navbarhead .fas,
    .navbarhead .fa-solid {
        font-weight: 900 !important;
    }

    .containerhead {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .navbar-brandhead {
        font-size: 22px;
        font-weight: bold;
        color: #28a745;
        text-decoration: none;
        display: flex;
        align-items: center;
    }

    .navbar-brandhead i {
        font-size: 20px;
    }

    .navhead-menu {
        list-style: none;
        display: flex;
        gap: 20px;
        margin: 0;
        padding: 0;
    }

    .navhead-menu li {
        display: flex;
        align-items: center;
    }

    .navhead-menu li a {
        color: #212529;
        text-decoration: none;
        font-size: 16px;
        font-weight: 500;
        display: flex;
        align-items: center;
    }

    .navhead-menu li a:hover {
        color: #28a745;
    }

    .navhead-menu i {
        margin-right: 5px;
    }

    /* Burger button */
    .burger {
        display: none;
        flex-direction: column;
        justify-content: space-between;
        width: 25px;
        height: 20px;
        background: transparent;
        border: none;
        cursor: pointer;
    }

    .burger-bar {
        height: 3px;
        width: 100%;
        background-color: #28a745;
        border-radius: 2px;
    }

    /* Mobile styles */
    @media (max-width: 768px) {
        .burger {
            display: flex;
        }

        .navhead-menu {
            display: none;
            flex-direction: column;
            background-color: #fff;
            position: absolute;
            top: 70px;
            right: 0;
            width: 220px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            border-radius: 5px;
            padding: 10px 0;
            z-index: 9999;
        }

        .navhead-menu.active {
            display: flex;
        }

        .navhead-menu li {
            margin: 10px 0;
            padding: 0 20px;
        }
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const burger = document.querySelector('.burger');
        const menu = document.querySelector('.navhead-menu');

        burger.addEventListener('click', () => {
            const expanded = burger.getAttribute('aria-expanded') === 'true' || false;
            burger.setAttribute('aria-expanded', !expanded);
            menu.classList.toggle('active');
        });
    });
</script>
